{% extends "index.html" %}

{% block content %}
<div class = "bg-white shadow rounded-3xl mx-auto p-5 mt-2 w-2/3 ">
    <h1 class="text-center text-2xl text-gray-900 font-semibold my-3">Editar perfil del usuario {{user}}</h1>
    <div class="flex flex-col md:flex-row justify-center gap-10 ">
        <form method="post" enctype="multipart/form-data" class="bg-white rounded-3xl mx-auto md:mx-0 p-5 mt-2 w-2/3 md:w-1/3">
            <h1 class="text-2xl text-gray-900 font-semibold mb-3">Configuraciones del Usuario</h1>
            {% csrf_token %}
            <div class="flex flex-col">
                {% for field in user_form %}
                {% if field.field.widget.input_type == "checkbox" %}
                <label for="{{field.id_for_label}}" class="cursor-pointer">
                    <div class="block text-base font-normal text-gray-600 mt-3 mb-1 ">
                        {{field.label}}
                    </div>
                    {% if field.value %}
                    <div class="relative">
                        <input type="checkbox" id="{{field.id_for_label}}" name="{{field.html_name}}" class="sr-only"
                            checked>
                        <div class="block bg-gray-500 w-14 h-8 rounded-full transition"></div>
                        <div class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"></div>
                    </div>
                    {% else %}
                    <div class="relative">
                        <input type="checkbox" id="{{field.id_for_label}}" name="{{field.html_name}}" class="sr-only">
                        <div class="block bg-gray-500 w-14 h-8 rounded-full transition"></div>
                        <div class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"></div>
                    </div>
                    {% endif %}
                </label>
                {% elif field.field.widget.input_type == "select" %}
                <label for="{{field.html_name}}"
                    class="block text-base font-normal text-gray-600 mt-3">{{field.label}}</label>
                <select id="{{field.id_for_label}}" name="{{field.html_name}}" autocomplete="on"
                    class="mb-2 mt-1 w-full text-sm border border-gray-300 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-indigo-500 py-1.5 px-3 shadow rounded-md">
                    {% for value, label in field.field.choices %}
                    {% if value|slugify == field.value|slugify %}
                    <option value="{{ value }}" selected>{{ label }}</option>
                    {% else %}
                    <option value="{{ value }}">{{ label }}</option>
                    {% endif %}
                    {% endfor %}
                </select>
                {% else %}
                <label for="{{field.html_name}}"
                    class="block text-base font-normal text-gray-600 mt-3">{{field.label}}</label>
                <input type="{{field.field.widget.input_type}}" value="{{field.value}}" name="{{field.html_name}}"
                    id="{{field.id_for_label}}"
                    class="mb-2 mt-1 w-full text-sm border border-gray-300 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-indigo-500 py-1.5 px-3 shadow rounded-md" />
                {% endif %}
                <div class="text-base font-normal text-red-600 -mb-1">
                    {{ field.errors }}
                </div>
                {% endfor %}
            </div>
            <div class="flex justify-center mt-14">
                <button type='submit' name='user-form'
                    class='w-40 rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500'>Guardar</button>
            </div>
        </form>
        <form method="post" enctype="multipart/form-data" class="bg-white rounded-3xl p-5 mb-8 md:mb-0 md:mt-2 w-2/3 md:w-1/3 mx-auto md:mx-0 relative">
            <h1 class="text-2xl text-gray-900 font-semibold mb-3">Cambiar Contrase√±a</h1>
            {% csrf_token %}
            <div class="flex flex-col">
                {% for field in password_form %}
                <label for="{{field.html_name}}"
                    class="block text-base font-normal text-gray-600 mt-3">{{field.label}}</label>
                <input type="{{field.field.widget.input_type}}" name="{{field.html_name}}" id="{{field.id_for_label}}"
                    class="mb-2 mt-1 w-full text-sm border border-gray-300 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-indigo-500 py-1.5 px-3 shadow rounded-md" />
                <div class="text-base font-normal text-red-600 -mb-1">
                    {{ field.errors }}
                </div>
                {% endfor %}
            </div>
            <div class="flex justify-between mt-14">
                <div class="w-full pr-10 absolute bottom-5">
                    <div class="flex justify-center">
                        <button type='submit' name='password-form'
                            class='w-40 rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500'>Guardar</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock content %}